{\rtf1\ansi\ansicpg1252\cocoartf2821
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 @startuml\
title UC3 Activity - Semantic Match via Vector Search\
top to bottom direction\
skinparam dpi 220\
skinparam linetype ortho\
skinparam shadowing false\
skinparam roundcorner 12\
\
' =========================================================\
' TEXT DESCRIPTION (Numbered Steps)\
' Step 1: System receives normalized user question.\
' Step 2: System generates vector embedding from the question.\
' Step 3: System searches vector database for semantically similar questions.\
' Step 4: System computes similarity scores between input and stored vectors.\
' Step 5: System evaluates whether similarity score meets threshold.\
' Step 6: If threshold met, system selects the best matching question.\
' Step 7: System retrieves reference to the stored answer.\
' Step 8: System fetches the stored answer from database or cache.\
' Step 9: System returns matched answer to controller or user.\
' Step 10: If threshold not met, system returns no semantic match result.\
' Step 11: System logs semantic lookup attempt for monitoring and tuning.\
' =========================================================\
\
(*) --> "1. Receive normalized\\nquestion"\
--> "2. Generate embedding"\
--> "3. Search vector DB"\
--> "4. Compute similarity score"\
\
if "5. Score >= threshold?" then\
  -->[Yes] "6. Select best match"\
  --> "7. Retrieve answer reference"\
  --> "8. Fetch stored answer"\
  --> "9. Return matched answer"\
  --> (*)\
else\
  -->[No] "10. Return no match"\
  --> "11. Audit log semantic lookup"\
  --> (*)\
endif\
\
@enduml}